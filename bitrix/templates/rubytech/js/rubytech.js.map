{"version":3,"sources":["rubytech.js"],"names":["initScripts","$","click","_href","this","goto","offset","top","animate","scrollTop","mask","fancybox","clickSlide","fitToView","smallBtn","type","clients","document","querySelector","innerHTML","classList","add","banner","bannerEffect","window","pageYOffset","filter","querySelectorAll","img","length","im","transform","style","select","current","i","options","addEventListener","chooseOption","_i","optionList","overlay","nextElementSibling","contains","closeSelect","createElement","ov","remove"],"mappings":"aAAA,SAASA,cAERC,EAAA,WACAA,EAAE,eAAYC,MAAA,WACbD,IAAEE,EAAAF,EAAAG,MAAeF,KAAM,QACtBG,EAASJ,EAAAE,GAAIG,SAAYC,IACzB,OACAN,EAAE,cAAcO,QAAQ,CAAEC,UAAWJ,EAAO,QADxCA,MAEJJ,EAAA,QAAAS,KAAO,mBAOTT,EAAE,mBAAmBU,SAAS,CAH9BV,WAAUS,EAKTE,WAAY,QAFbX,UAAE,EACDY,KAAAA,OACAD,KAAAA,CACAE,KAAAA,OACAC,aAJ6B,oBAAA,IAfRC,EA0BtBC,SAAAC,cAAA,kBAEIF,IADJA,EAAIA,WAAUC,EAASC,UAAcF,EAAAG,UAGpCH,EAAQI,UAAUC,IAAI,W,4CAKvB,IAAAC,EAASC,SAAeL,cAAA,6BACnBI,IADLA,EAAAA,MACCA,UACA,mBAAA,GAAAE,OAAAC,YAAA,SAkBDD,OAAIE,iBAAmBC,SAZvB,W,6CAGE,GAAA,EAAAC,EAAKC,OADND,IAAA,IAAAE,EAAQD,EAAJE,EAAAA,EAAJF,OAAoBC,IACnBF,EAAAE,GAAAE,MAAAD,UACCH,mBAAAA,GAAAA,OAAAA,YAAAA,QAQH,IAAAK,EACCC,SADDP,iBAAA,W,KAAAM,EAAA,GAGAC,GAAAA,E,2BASG,GARFA,EAAAA,GAAUR,EAAVS,GAAAjB,cAAA,YAIEgB,EAAAC,I,iCADAD,EAAAA,GAAAA,EAAAC,GAAAjB,cAAA,WAKAe,EAAIG,GAHLH,CAKGG,IAAAA,EAAWC,EAAAA,GAAAA,iBAA0BC,WAJxC,GAAAF,EACC,IAAA,IAAAG,EAAA,EAAAA,EAAAH,EAAAP,OAAAU,IACAH,EAAAG,GAAAF,iBAAA,QAAAC,cAKD,SAAAE,IACD,IAGAC,EAHAD,EAAApC,KAAAsC,mBADCF,EAGDpB,UAAAuB,SAAA,UACAC,gBAAAH,EAAAA,SAIKxB,cAAAC,QACJuB,UAAAJ,IAAAA,kBACAG,SAAAA,KAASvB,OAAS4B,GACjBC,SAAiB5B,cAAjB4B,mBACA7B,iBAAAA,QAAAA,aACDuB,EAAApB,UAAAC,IAAA,UACCoB,KAAAA,UAAAA,IAAAA,YAKHxB,SAAAA,cAMAA,SAAAC,cAAA,mBAAA6B,S,sEAHA9B,SAAAA,cAAAA,mBAAAA,UAA0C8B,OAA1C9B","file":"rubytech.js","sourcesContent":["function initScripts() {\r\n\r\n\t// плавный скролл до якоря\r\n\t$(function () {\r\n\t\t$(\"[href^='#']\").click(function () {\r\n\t\t\tvar _href = $(this).attr(\"href\");\r\n\t\t\tvar goto  = $(_href).offset().top\r\n\t\t\t$(\"html, body\").animate({ scrollTop: goto + \"px\" });\r\n\t\t\treturn false;\r\n\t\t});\r\n\t});\r\n\t// маска на телефон\r\n\t$(\".tel\").mask(\"+7(999)999-9999\");\r\n\r\n\t// fancybox\r\n\t$(\"[data-fancybox]\").fancybox({\r\n\t\tfitToView: true,\r\n\t\tclickSlide: 'close',\r\n\t\tsmallBtn: false,\r\n\t\ttype: 'ajax',\r\n\t\tajax: {\r\n\t\t\ttype: \"POST\",\r\n\t\t\tclickOutside: 'toggleControls'\r\n\t\t}\r\n\t});\r\n\r\n\t// CLIENTS ANIMATION BEFORE\r\n\tvar clients = document.querySelector('.clients .flex')\r\n\tif (clients) {\r\n\t\tclients.innerHTML += clients.innerHTML + clients.innerHTML\r\n\t\tclients.classList.add('moving')\r\n\t}\r\n\r\n\r\n\t// BANNER PARALLAX\r\n\tfunction bannerEffect() { \r\n\t\tvar banner = document.querySelector('.banner-img img:not(.svg)')\r\n\t\tif (banner) \r\n\t\t\tbanner.style.transform = \"translate(-50%, \" + .2*window.pageYOffset + \"px)\"\r\n\t}\r\n\twindow.addEventListener(\"scroll\", bannerEffect)\r\n\r\n\t// IMG PARALLAX\r\n\tfunction ImageEffect() { \r\n\t\tvar img = document.querySelectorAll('.parallax')\r\n\t\tif (img.length > 0) {\r\n\t\t\tfor (let im = 0; im < img.length; im++) {\r\n\t\t\t\timg[im].style.transform = \"translate(-50%, \" + .2*window.pageYOffset + \"px)\"\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twindow.addEventListener(\"scroll\", ImageEffect)\r\n\t\r\n\r\n\t// SELECT\r\n\tvar filter  = document.querySelectorAll('.filter'),\r\n\t\tcurrent = [],\r\n\t\tselect  = []\r\n\tif (filter) {\r\n\t\tfor (let i = 0; i < filter.length; i++) {\r\n\t\t\tcurrent[i] = filter[i].querySelector('.current')\r\n\t\t\tif (current[i]) {\r\n\t\t\t\tcurrent[i].addEventListener('click', toggleOptionList)\r\n\t\t\t}\r\n\t\t\tselect[i] = filter[i].querySelector('.select')\r\n\t\t\tif (select[i]) {\r\n\t\t\t\tvar options = select[i].querySelectorAll('.option')\r\n\t\t\t\tif (options)\r\n\t\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\t\toptions[i].addEventListener('click', chooseOption)\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction toggleOptionList() {\r\n\t\tvar optionList = this.nextElementSibling\r\n\t\tif (optionList.classList.contains('opened')) {\r\n\t\t\t// закрываем\r\n\t\t\tcloseSelect()\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// открываем\r\n\t\t\tvar ov = document.createElement('div')\r\n\t\t\t\tov.classList.add('filter-overlay')\r\n\t\t\t\tdocument.body.append(ov)\r\n\t\t\tvar overlay = document.querySelector('.filter-overlay')\r\n\t\t\t\toverlay.addEventListener('click', closeSelect)\r\n\t\t\t\toptionList.classList.add('opened')\r\n\t\t\t\tthis.classList.add('opened')\r\n\t\t}\r\n\t}\t\r\n}\r\n\r\nfunction closeSelect() {\r\n\tdocument.querySelector('.filter-overlay').remove()\r\n\tdocument.querySelector('.filter .current').classList.remove('opened')\r\n\tdocument.querySelector('.filter .select').classList.remove('opened')\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", initScripts);"]}