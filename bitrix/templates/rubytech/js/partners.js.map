{"version":3,"sources":["partners.js"],"names":["arSort","prop","sortOrder","substr","a","b","chooseOption","item","this","optionName","option","current","parentElement","others","querySelectorAll","i","dataset","value","classList","add","jsPartners","renderPartnerList","sort","ar","closeSelect","to","document","querySelector","list","length","innerHTML"],"mappings":"aACC,SAASA,OAAOC,GADhB,IAAAC,EAAA,EAIEA,MAHcD,MAAhBA,EAASD,KACRE,GAAa,EAGZD,EAAOA,EAAKE,OAAO,IADnBD,SAAAE,EAAAC,GAMA,OAJAD,EAAAH,GAAAI,EAAAJ,IAAA,EAAAG,EAAAH,GAAAI,EAAAJ,GAAA,EAAA,GAIgBC,GAAhB,SAAAI,eAED,IAAAC,EAAAC,KAAAC,EAKWF,EAAIA,UALfG,EAEQJ,EAAAA,QAAAA,MAFRK,EAGAJ,EAAAA,cAAAK,uBAHAC,EAIIN,EAASA,cAAbK,iBAAAE,aAAA,GACCL,EADD,IAECC,IAAMK,EAAKR,EAAIQ,EAACC,EAAQC,OAFzBF,IAAAF,EAGCF,GAAOO,UAASN,OAAAA,YAEjBD,EAAIE,UAAQJ,EACXF,EAAAW,UAAaC,IAAI,YAChBN,cAEDO,YAAAC,kBAAAD,WAAAE,KAAAtB,OAAAU,KAEDH,SAAKW,kBAAcK,GACnBC,GAAAA,EAAAA,CAGA,IAIC,IAAIC,EAAKC,SAASC,cAAc,4BAAhCC,EALGR,GACJL,EAAA,EAAAA,EAAAQ,EAAAM,OAAAd,IAOOQ,EAAGR,GAAH,OAAeQ,EAAGR,GAAH,KAAgB,IALvCa,GAMGA,uCAOAE,EAAAA,GAAAF,KAED,UADAH,EAAAA,GAAAA","file":"partners.js","sourcesContent":["\t// sort array by field\r\n\tfunction arSort(prop) {\r\n\t\tvar sortOrder = 1;\r\n\t\tif(prop[0] === \"-\") {\r\n\t\t\tsortOrder = -1;\r\n\t\t\tprop = prop.substr(1);\r\n\t\t}\r\n\t\treturn function (a,b) {\r\n\t\t\t/* works with strings and numbers */\r\n\t\t\tvar result = (a[prop] < b[prop]) ? -1 : (a[prop] > b[prop]) ? 1 : 0;\r\n\t\t\treturn result * sortOrder;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction chooseOption() {\r\n\t\t// console.log(this)\r\n\t\tvar item \t\t= this,\r\n\t\t\toptionName \t= item.innerHTML,\r\n\t\t\toption \t\t= item.dataset.value,\r\n\t\t\tcurrent \t= item.parentElement.previousElementSibling,\r\n\t\t\tothers \t\t= item.parentElement.querySelectorAll('.selected')\r\n\t\tif (others) {\r\n\t\t\tfor (let i = 0; i < others.length; i++) {\r\n\t\t\t\tothers[i].classList.remove('selected')\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrent.innerHTML = optionName\r\n\t\titem.classList.add('selected')\r\n\t\tcloseSelect()\r\n\t\t// отобразить новый порядок партнеров\r\n\t\tif (jsPartners) renderPartnerList(jsPartners.sort(arSort(option)))\r\n\t}\r\n\r\n\tfunction renderPartnerList(ar) {\r\n\t\tif (ar) {\r\n\t\t\tvar to = document.querySelector('.partners .filter +.flex'),\r\n\t\t\t\tlist = ''\r\n\t\t\tfor (let i = 0; i < ar.length; i++) {\r\n\t\t\t\tif (!ar[i]['LOGO']) ar[i]['LOGO'] = ''\r\n\t\t\t\tlist += '<div class=\"partner\">'+\r\n\t\t\t\t\t'<div><img src=\"' + ar[i]['LOGO'] + '\" alt=\"' + ar[i]['NAME'] + '\"></div>'+\r\n\t\t\t\t\t'<div>'+\r\n\t\t\t\t\t\t'<div class=\"name\">' + ar[i]['NAME'] + '</div>'+\r\n\t\t\t\t\t\t'<div class=\"status\">' + ar[i]['STATUS'] + '</div>'+\r\n\t\t\t\t\t'</div>'+\r\n\t\t\t\t'</div>'\r\n\t\t\t}\r\n\t\t\tto.innerHTML = list\r\n\t\t}\r\n\t}"]}