{"version":3,"sources":["career.js"],"names":["searchFocusBlur","el","document","querySelector","onfocus","parentElement","classList","add","remove","slideDown","elem","style","height","concat","scrollHeight","slideUp","onblur","nextElementSibling","list","contains","openFirstList","toggleList","sectionHeaders","length","i","addEventListener","chooseOption","optionName","item","option","dataset","current","others","querySelectorAll","closeSelect","jsVacancies","renderVacanciesList","filter","window","to","previousElementSibling","ar","k","last","innerHTML","setToggler"],"mappings":"aAAA,SAASA,kBACL,IAAIC,EAAKC,SAASC,cAAc,gBADpCF,EAAAG,QAASJ,WAATC,EAA2BI,cAAAA,cAAAC,UAAAC,IAAA,UACvBN,EAAIA,OAAKC,WAASC,EAAAA,cAAcE,cAAhCC,UAAAE,OAAA,UACAP,OAAGG,iBAAU,OAAMJ,iBAAuD,IAA1ES,UAAA,SAAAC,GAAA,OAAAA,EAAAC,MAAAC,OAAA,GAAAC,OAAAH,EAAAI,aAAA,OAMEC,QAAY,SAAAL,GAAI,OAAIA,EAAKC,MAAMC,OAAf,GALlBX,SAAGe,aAAiBf,IAAGI,EAAAA,KAAHY,mBAApBC,EAAAZ,UAAAa,SAAA,WACHD,EAAAZ,UAAAE,OAAA,UASWO,QAAQG,KAERA,EAAKZ,UAAUC,IAAI,UARzBE,UAAYS,IAYlB,SAASE,gBAXHL,IAAAA,EAAYb,SAAZa,cAAgB,iBAAAE,mBAAAC,EAAIR,UAAAH,IAAWK,UAArCH,UAAAS,GACA,SAASG,aACL,IAAIH,EAAYD,SAAAA,iBAAhB,iBAgBA,GAA4B,EAAxBK,EAAeC,OAfXL,IAAKZ,IAAAA,EAAUa,EAAAA,EAAAA,EAAoBI,OAAAC,IAC9BlB,EAAiBkB,GAAAC,iBAAtB,QAAAJ,YAuBZ,SAASK,eAfL,IAAIR,EAAOhB,KAAXyB,EACepB,EAAIqB,UADnBC,EAEUX,EAAVU,QAAAE,MAFAC,EAGHH,EAAAA,cAAAvB,uBAHG2B,EAqBUJ,EAAKA,cAAKvB,iBAAc4B,aAjBtC,GAAAD,EACQV,IAAAA,IAAAA,EAAc,EAAGpB,EAAAA,EAAS+B,OAAAA,IAmBtBD,EAAOR,GAAGlB,UAAUE,OAAO,YAhB3Bc,EAAAA,UAAkBG,EACrBG,EAAAtB,UAAAC,IAAA,YACJ2B,cAqBGC,aAA6DC,oBAAhD,CAAAD,aAAA,GAAAE,OAAA,SAAAT,GAnBrBU,OAAAA,EAAAA,EAAAA,KAAAA,QAAAA,MAKQV,SAAIW,oBAARpC,GAAIyB,GAAAA,EACAD,CAIJT,IAFIa,IAAAA,EAAWH,SAAKvB,cAAcmC,eACxBtB,EAAKU,GACHJ,EAAA,EAAAA,EAAAiB,EAAAlB,OAAZC,IAAA,CAQA,G,iCAPSN,GACK,aACTuB,EAAAjB,GAAA,KACJ,+B,iBAsBW,eArBZN,GAAoBS,0BAGpB,IAAAc,EAAAjB,GAAA,QAAA,OAAAiB,EAAAjB,GAAA,OACiBN,IAAAkB,IAAAA,EAAAA,EAAAA,GAAAA,OAAAA,OAAAM,EAAA,EAAAA,EAAAC,EAAAD,IACpBA,EAAA,GAAA,IAyBmBxB,GAAQ,sBArBpBA,GAAA,qBACShB,GAASC,sCAAlBe,GAAA,4BA0BYA,GAvBIM,4C,oBACJ,SACAN,GAAA,QAAAuB,EAAAjB,GAAA,OAAAkB,GAAA,KAAA,SACAxB,GAyBH,sBAAAuB,EAAAjB,GAAA,OAAAkB,GAAA,MAAA,SAxBDxB,G,oDACJA,GAAA,SACAA,GAAA,uBACIA,G,mCACA0B,EAAAA,GAAA,KACIC,IACI3B,EAAAA,GAAQ,OAAAwB,GAAA,KACX,UA2BpBxB,GAAA,mIAlFWT,OAAAA,iBAAA,OAAAoC,YACPP,OAAAb,iBAAA,OAAAL","file":"career.js","sourcesContent":["function searchFocusBlur() {\r\n    var el = document.querySelector('.search-text')\r\n    el.onfocus = () => {el.parentElement.parentElement.classList.add('focus')}\r\n    el.onblur  = () => {el.parentElement.parentElement.classList.remove('focus')}\r\n}\r\nwindow.addEventListener('load', searchFocusBlur)\r\n\r\nconst slideDown = elem => elem.style.height = `${elem.scrollHeight}px`\r\nconst slideUp   = elem => elem.style.height = 0\r\nfunction toggleList() {\r\n    var list = this.nextElementSibling\r\n        if (list.classList.contains('opened')) {\r\n            list.classList.remove('opened')\r\n            slideUp(list)\r\n        } else {\r\n            list.classList.add('opened')\r\n            slideDown(list)\r\n    }\r\n}\r\nfunction openFirstList() {\r\n    var list = document.querySelector('.vacancies h2').nextElementSibling\r\n    list.classList.add('opened')\r\n    slideDown(list)\r\n}\r\nfunction setToggler() {\r\n    var sectionHeaders = document.querySelectorAll('.vacancies h2')\r\n    if (sectionHeaders.length > 0) {\r\n        for (let i = 0; i < sectionHeaders.length; i++) {\r\n            sectionHeaders[i].addEventListener('click', toggleList)\r\n        }\r\n    }\r\n}\r\nwindow.addEventListener('load', setToggler)\r\nwindow.addEventListener('load', openFirstList)\r\n\r\nfunction chooseOption() {\r\n    // console.log(this)\r\n    var item \t\t= this,\r\n        optionName \t= item.innerHTML,\r\n        option \t\t= item.dataset.value,\r\n        current \t= item.parentElement.previousElementSibling,\r\n        others \t\t= item.parentElement.querySelectorAll('.selected')\r\n    if (others) {\r\n        for (let i = 0; i < others.length; i++) {\r\n            others[i].classList.remove('selected')\r\n        }\r\n    }\r\n    current.innerHTML = optionName\r\n    item.classList.add('selected')\r\n    closeSelect()\r\n    // открыть выбранную секцию\r\n    if (jsVacancies) renderVacanciesList([jsVacancies][0].filter(item => item.CODE.indexOf(option) > -1))\r\n}\r\n\r\nfunction renderVacanciesList(ar) {\r\n    if (ar) {\r\n        // console.log(ar)\r\n        var to = document.querySelector('.items-list'),\r\n            list = ''\r\n\r\n        for (let i = 0; i < ar.length; i++) {\r\n            list += '<div class=\"' + ar[i]['CODE'] +'\">'\r\n            list += '<h2><span>' + ar[i]['NAME'] +'</span><span class=\"counts\">' + ar[i][\"ELEMENT_CNT\"] + '</span></h2>'\r\n            list += '<div class=\"list\">'\r\n            if (typeof(ar[i]['CHILDS']) !== \"undefined\" && (ar[i]['CHILDS'] !== null)) {\r\n            //     list += '<p>Вакансии не найдены</p>'\r\n            // } else {\r\n                var last = ar[i]['CHILDS'].length\r\n                for (let k = 0; k < last; k++) {\r\n                    if (k % 2 == 0) {\r\n                        list += '<div class=\"flex\">'\r\n                    }\r\n                    list += '<div class=\"half\">'\r\n                    list += '<div class=\"bordered vacancy-card\">'\r\n                    list += '<div class=\"flex column\">'\r\n                    list += '<div class=\"title bigtext Semibold dark\">' + ar[i]['CHILDS'][k]['NAME'] + '</div>'\r\n                    list += '<div>' + ar[i]['CHILDS'][k]['DEPT'] +'</div>'\r\n                    list += '<div class=\"anons\">' + ar[i]['CHILDS'][k]['ANONS'] +'</div>'\r\n                    list += '<div class=\"descr\">' + ar[i]['CHILDS'][k]['DESCR'] +'</div>'\r\n                    list += '</div>'\r\n                    list += '<div class=\"opener\">'\r\n                    list += '<a class=\"arrowlink next\" href=\"' + ar[i]['CODE'] + '/' + ar[i]['CHILDS'][k]['CODE'] + '/\"></a>'\r\n                    list += '</div>'\r\n                    list += '</div>'\r\n                    list += '</div>'\r\n                    if (k%2 == 1 || k+1 == last) {\r\n                        list += '</div>'\r\n                    }\r\n                }\r\n            }\r\n            list += '</div>'    \r\n            list += '</div>'\r\n        }\r\n        \r\n        to.innerHTML = list\r\n        setToggler()\r\n        openFirstList()\r\n    }\r\n}"]}